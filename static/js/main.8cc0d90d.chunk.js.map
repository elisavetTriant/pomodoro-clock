{"version":3,"sources":["components/PomodoroControl.js","App.js","utils/helpers.js","reportWebVitals.js","index.js"],"names":["PomodoroControl","type","length","changeTime","className","id","onClick","App","useState","displayTime","setDisplayTime","breakTime","setBreakTime","sessionTime","setSessionTime","timerOn","setTimerOn","onBreak","setOnBreak","myAudio","useRef","displayTimerRef","createRef","timeoutRef","beginCountDown","timeOutInfo","fn","time","nextAt","timeout","wrapper","Date","getTime","setTimeout","cancel","clearTimeout","timeoutID","accurateInterval","phaseControl","current","prev","console","log","playBuzzer","timeAmmount","formatTime","minutes","Math","floor","seconds","ceil","currentTime","play","Fragment","ref","ng-style","pause","preload","src","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOAeeA,MAbf,YAAwD,IAA7BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,WAEzC,OACC,sBAAKC,UAAS,UAAKH,EAAL,QAAd,UACC,oBAAGI,GAAE,UAAKJ,EAAL,UAAL,UAAyBA,EAAzB,aACA,wBAAQI,GAAE,UAAKJ,EAAL,cAAuBG,UAAU,QAAQE,QAAW,kBAAKH,GAAY,GAAIF,IAAnF,eACA,sBAAMI,GAAE,UAAKJ,EAAL,WAAoBG,UAAU,OAAtC,SAA8CF,IAC9C,wBAAQG,GAAE,UAAKJ,EAAL,cAAuBG,UAAU,OAAOE,QAAW,kBAAKH,EAAW,GAAIF,IAAjF,mB,MCmKaM,MAtKf,WAAgB,IAAD,EACyBC,mBAAS,MADlC,mBACNC,EADM,KACOC,EADP,OAEqBF,mBAAS,KAF9B,mBAENG,EAFM,KAEKC,EAFL,OAGyBJ,mBAAS,MAHlC,mBAGNK,EAHM,KAGOC,EAHP,OAIiBN,oBAAS,GAJ1B,mBAINO,EAJM,KAIGC,EAJH,OAKiBR,oBAAS,GAL1B,mBAKNS,EALM,KAKGC,EALH,KAMPC,EAAUC,mBACVC,EAAkBC,sBAClBC,EAAaH,mBAcbI,EAAiB,WACrB,IAAIC,EC7BwB,SAAUC,EAAIC,GAC5C,IAAYC,EAAQC,EAASC,EAe7B,OAdAF,GAAS,IAAIG,MAAOC,UAAYL,EAChCE,EAAU,KACVC,EAAU,WAGR,OAFAF,GAAUD,EACVE,EAAUI,WAAWH,EAASF,GAAS,IAAIG,MAAOC,WAC3CN,KASF,CACLQ,OARO,WACP,OAAOC,aAAaN,IAQpBO,UAHFP,EAAUI,WAAWH,EAASF,GAAS,IAAIG,MAAOC,YDc9BK,EAAiB,WAC7BC,MACC,KACPf,EAAWgB,QAAUd,GAKjBa,EAAe,WAGjB5B,GAAe,SAAC8B,GAEd,OADAnB,EAAgBkB,QAAUC,EACnBA,EAAO,KAGTnB,EAAgBkB,SAIX,GAEPhB,EAAWgB,UACVhB,EAAWgB,QAAQL,SACnBO,QAAQC,IAAI,YAEZxB,GAAW,SAACsB,GAAD,OAAWA,KAEjBvB,GAMHP,EAAeG,GACf8B,MALAjC,EAAeC,GACfgC,KAOFnB,MAoBJrB,EAAc,SAACyC,EAAa3C,GAChC,GAAa,UAATA,EAAkB,CACpB,GAAKU,GAAa,MAASiC,EAAc,GAAQjC,GAAa,IAAMiC,EAAc,EAC9E,OAEHhC,GAAa,SAAC4B,GAAD,OAAUA,EAAOI,UAC1B,GAAa,YAAT3C,EAAoB,CAC5B,GAAKY,GAAe,MAAS+B,EAAc,GAAQ/B,GAAe,IAAM+B,EAAc,EACnF,OAEJ9B,GAAe,SAAC0B,GAAD,OAAUA,EAAOI,KAC3B7B,GACHL,EAAeG,EAAc+B,KAM7BC,EAAa,SAAClB,GAA0B,IAApB1B,EAAmB,uDAAd,UAE7B,GAAa,YAATA,EAAmB,CAEvB,IAAI6C,EAAUC,KAAKC,MAAMrB,EAAO,IAC5BsB,EAAUtB,EAAO,GAEpB,OACKmB,EAAU,GAAK,IAAMA,EAAUA,GAE/B,KAECG,EAAU,GAAK,IAAMA,EAAUA,GAE/B,GAAa,YAAThD,EAAoB,CAC5B,IAAI6C,EAAUC,KAAKG,KAAKvB,EAAO,IAC/B,OAAOmB,IAKLH,EAAa,WAClBxB,EAAQoB,QAAQY,YAAc,EAC9BhC,EAAQoB,QAAQa,QAIlB,OACE,eAAC,IAAMC,SAAP,WACA,iEACA,iCACE,iCACE,sBAAKjD,UAAU,UAAf,UACE,cAAC,EAAD,CACEH,KAAO,QACPC,OAAU2C,EAAWlC,EAAW,WAChCR,WAAcA,IAEhB,cAAC,EAAD,CACEF,KAAO,UACPC,OAAU2C,EAAWhC,EAAa,WAClCV,WAAcA,SAIpB,oCACE,sBAAKC,UAAU,QAAf,UACE,mBAAGC,GAAG,cAAcD,UAAU,QAA9B,SAAuCa,EAAU,QAAU,YAC3D,mBAAGZ,GAAG,YAAYiD,IAAKjC,EAAvB,SAAyCwB,EAAWpC,KACpD,sBAAML,UAAU,OAAOmD,WAAS,sDAElC,sBAAKnD,UAAU,iBAAf,UACI,wBAAQC,GAAG,aAAaC,QAAW,WA3ItCS,EAGMQ,EAAWgB,QAAQH,YAC1Bb,EAAWgB,QAAQL,SACnBlB,GAAW,KAJbA,GAAW,GACXQ,MAyIM,SAA2DT,EAAmB,QAAV,UACpE,wBAAQV,GAAG,QAAQC,QAAW,kBApFtCI,EAAe,MACfE,EAAa,KACbE,EAAe,MACfI,GAAW,GACXF,GAAW,GACPO,EAAWgB,SACbhB,EAAWgB,QAAQL,SAErBf,EAAQoB,QAAQiB,aAChBrC,EAAQoB,QAAQY,YAAc,IA2EtB,4BAIR,uBACM9C,GAAG,OACHoD,QAAQ,OACRH,IAAKnC,EACLuC,IAAI,kHE1JCC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.8cc0d90d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction PomodoroControl({ type, length, changeTime }) {\r\n\r\nreturn (\r\n\t<div className={`${type}Ctrl`}>\r\n\t\t<p id={`${type}-label`}>{type} length</p>\r\n\t\t<button id={`${type}-decrement`} className=\"minus\" onClick = {()=> changeTime(-60, type)}>-</button>\r\n\t\t<span id={`${type}-length`} className=\"time\">{length}</span>\r\n\t\t<button id={`${type}-increment`} className=\"plus\" onClick = {()=> changeTime(60, type)}>+</button>\r\n\t </div>\r\n  )\r\n\r\n}\r\n\r\nexport default PomodoroControl;","import React, { useState, useRef, createRef } from \"react\";\nimport PomodoroControl from \"./components/PomodoroControl\"\nimport {accurateInterval} from \"./utils/helpers.js\"\nimport './App.css';\n\n\nfunction App() {\n  const [displayTime, setDisplayTime] = useState(60*25);\n  const [breakTime, setBreakTime] = useState(60*5);\n  const [sessionTime, setSessionTime] = useState(60*25);\n  const [timerOn, setTimerOn] = useState(false);\n  const [onBreak, setOnBreak] = useState(false);\n  const myAudio = useRef();\n  const displayTimerRef = createRef();\n  const timeoutRef = useRef();\n\n  //do the countdown\n  const timerControl = () => {\n    if (!timerOn) {\n      setTimerOn(true);\n      beginCountDown();\n    } else if (timeoutRef.current.timeoutID) {      \n        timeoutRef.current.cancel();\n        setTimerOn(false);\n    }\n  }\n\n\n  const beginCountDown = () => { \n    let timeOutInfo = accurateInterval(() => {\n          phaseControl()\n        }, 1000)\n    timeoutRef.current = timeOutInfo\n    //console.log(timeoutRef.current.timeoutID)\n  }\n  \n\n  const phaseControl = () => {\n      let time = displayTime;      \n      \n      setDisplayTime((prev) => {\n        displayTimerRef.current = prev\n        return prev - 1\n      });\n      \n      time = displayTimerRef.current;\n\n      //console.log(time)\n\n      if (time <= 0) {\n\n       if (timeoutRef.current) {\n            timeoutRef.current.cancel()\n            console.log(\"canceled\")\n\n            setOnBreak((prev) => !prev)\n\n            if (!onBreak) {\n              //console.log(\"breaktime:\" + breakTime);\n              setDisplayTime(breakTime)\n              playBuzzer()\n            } else {\n              //console.log(\"sessionTime\" + sessionTime);\n              setDisplayTime(sessionTime)\n              playBuzzer()\n            }\n\n            beginCountDown()\n        }\n      }\n  } \n\n  //Reset Pomodoro\n  const resetPomodoro = () => {\n    setDisplayTime(60*25);\n    setBreakTime(60*5);\n    setSessionTime(60*25);\n    setOnBreak(false);\n    setTimerOn(false);\n    if (timeoutRef.current) {\n      timeoutRef.current.cancel();\n    }\n    myAudio.current.pause();\n    myAudio.current.currentTime = 0;\n  }\n\n//Pomodoro settings function\n  const changeTime  = (timeAmmount, type) => {\n    if (type === \"break\") {\n      if ((breakTime >= 60*60 && timeAmmount > 0 ) || (breakTime <= 60 && timeAmmount < 0 ) ) {\n          return;\n        }\n       setBreakTime((prev) => prev + timeAmmount)\n    } else if (type === \"session\") {\n       if ((sessionTime >= 60*60 && timeAmmount > 0 ) || (sessionTime <= 60 && timeAmmount < 0 ) ) {\n          return;\n        }\n      setSessionTime((prev) => prev + timeAmmount);\n      if (!timerOn) {\n        setDisplayTime(sessionTime + timeAmmount);\n      }\n    }\n  }\n\n  //Helper function to display time\n  const formatTime = (time, type=\"display\") => {\n    \n    if (type === \"display\"){ \n    \n    let minutes = Math.floor(time / 60);\n    let seconds = time % 60;\n\n     return (        \n         (minutes < 10 ? \"0\" + minutes : minutes)\n          +\n          \":\"\n          +\n          (seconds < 10 ? \"0\" + seconds : seconds)\n        )\n    } else if (type === \"control\") {\n       let minutes = Math.ceil(time / 60);\n       return minutes\n    }\n  }\n\n  //helper function to play the buzzer\n   const playBuzzer = () => {\n    myAudio.current.currentTime = 0\n    myAudio.current.play()\n  }\n \n\n  return (\n    <React.Fragment>\n    <h1>FreeCodeCamp Pomodoro Clock App</h1>\n    <main>\n      <header>\n        <div className=\"session\">\n          <PomodoroControl \n            type = \"break\"\n            length = {formatTime(breakTime, \"control\")}\n            changeTime = {changeTime}\n          />\n          <PomodoroControl \n            type = \"session\"\n            length = {formatTime(sessionTime, \"control\")}\n            changeTime = {changeTime}\n          />\n        </div>\n      </header>\n      <section>\n        <div className=\"timer\">\n          <p id=\"timer-label\" className=\"title\">{onBreak ? \"Break\" : \"Session\"}</p>\n          <p id=\"time-left\" ref={displayTimerRef}>{formatTime(displayTime)}</p>\n          <span className=\"fill\" ng-style=\"{'height':fillHeight, 'background':fillColor }\"></span>\n        </div>\n        <div className=\"timer_controls\">\n            <button id=\"start_stop\" onClick = {() => timerControl()}>{!timerOn? \"Start\" : \"Pause\"}</button> \n            <button id=\"reset\" onClick = {() => resetPomodoro()}>Reset</button>\n          </div>\n      </section>\n    </main>\n    <audio\n          id=\"beep\"\n          preload=\"auto\"\n          ref={myAudio} \n          src=\"https://raw.githubusercontent.com/freeCodeCamp/cdn/master/build/testable-projects-fcc/audio/BeepSound.wav\"\n        />\n    </React.Fragment>\n  );\n}\n\nexport default App;","export const accurateInterval = function (fn, time) {\r\n  let cancel, nextAt, timeout, wrapper, timeoutID;\r\n  nextAt = new Date().getTime() + time;\r\n  timeout = null;\r\n  wrapper = function () {\r\n    nextAt += time;\r\n    timeout = setTimeout(wrapper, nextAt - new Date().getTime());\r\n    return fn();\r\n  };\r\n  cancel = function () {\r\n    return clearTimeout(timeout);\r\n  };\r\n  timeoutID = function () {\r\n    return timeout;\r\n  };\r\n  timeout = setTimeout(wrapper, nextAt - new Date().getTime());\r\n  return {\r\n    cancel: cancel,\r\n    timeoutID : timeout\r\n  };\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}